if (self.CavalryLogger) { CavalryLogger.start_js(["ohOam"]); }

__d("ImmersiveMediaStrings",["fbt"],(function(a,b,c,d,e,f,g){e.exports={SAVE_TO_VR:g._("Save to VR"),SAVED:g._("Guardado en la realidad virtual"),SAVE_NUX:g._("Find saved items in Oculus Library or Oculus Home."),LINK_PROMPT:g._("Link an Oculus headset?"),LEARN_MORE:g._("M\u00e1s informaci\u00f3n"),EXPERIENCE_OCULUS:g._("Experience this in virtual reality (VR) with Oculus.")}}),null);
__d("SaveStoryRelayModernMutation_SaveMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"StorySaveData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"StorySaveData!"}],c={kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"SaveStoryRelayModernMutation_SaveMutation",id:"1516400195059687",text:null,metadata:{},fragment:{kind:"Fragment",name:"SaveStoryRelayModernMutation_SaveMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_save",storageKey:null,args:b,concreteType:"StorySaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c]}]}]},operation:{kind:"Operation",name:"SaveStoryRelayModernMutation_SaveMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_save",storageKey:null,args:b,concreteType:"StorySaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}}}();e.exports=a}),null);
__d("SaveStoryRelayModernMutation_StateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"String!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"input",type:"String!"}],c={kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"SaveStoryRelayModernMutation_StateQuery",id:"1950422391690565",text:null,metadata:{},fragment:{kind:"Fragment",name:"SaveStoryRelayModernMutation_StateQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_card",storageKey:null,args:b,concreteType:"Story",plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"SaveStoryRelayModernMutation_StateQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_card",storageKey:null,args:b,concreteType:"Story",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("SaveStoryRelayModernMutation_UnsaveMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"StoryUnsaveData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"StoryUnsaveData!"}],c={kind:"LinkedField",alias:null,name:"save_info",storageKey:null,args:null,concreteType:"StorySaveInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"viewer_save_state",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"SaveStoryRelayModernMutation_UnsaveMutation",id:"1298878733500701",text:null,metadata:{},fragment:{kind:"Fragment",name:"SaveStoryRelayModernMutation_UnsaveMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_unsave",storageKey:null,args:b,concreteType:"StoryUnsaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c]}]}]},operation:{kind:"Operation",name:"SaveStoryRelayModernMutation_UnsaveMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"story_unsave",storageKey:null,args:b,concreteType:"StoryUnsaveResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}}}();e.exports=a}),null);
__d("SaveStoryRelayModernMutation",["FBStorySavedState","RelayCompat","relay-runtime","SaveStoryRelayModernMutation_SaveMutation.graphql","SaveStoryRelayModernMutation_UnsaveMutation.graphql","SaveStoryRelayModernMutation_StateQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayCompat").commitMutation;b("RelayCompat").graphql;var h=b("relay-runtime").fetchQuery,i={modern:function(){return b("SaveStoryRelayModernMutation_SaveMutation.graphql")},classic:function(a){return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"input"}],name:"SaveStoryRelayModernMutation_SaveMutation",operation:"mutation",node:function(){return{calls:[{kind:"Call",metadata:{},name:"story_save",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{children:[{fieldName:"viewer_save_state",kind:"Field",metadata:{},type:"SavedState"}],fieldName:"save_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"StorySaveInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"story",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Story"},{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],directives:[{kind:"Directive",name:"fb_owner",args:[{name:"oncall",value:{kind:"CallValue",callValue:"job_search"}}]}],kind:"Mutation",metadata:{inputType:"StorySaveData!"},name:"SaveStoryRelayModernMutation_SaveMutation",responseType:"StorySaveResponsePayload"}}()}}},j={modern:function(){return b("SaveStoryRelayModernMutation_UnsaveMutation.graphql")},classic:function(a){return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"input"}],name:"SaveStoryRelayModernMutation_UnsaveMutation",operation:"mutation",node:function(){return{calls:[{kind:"Call",metadata:{},name:"story_unsave",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{children:[{fieldName:"viewer_save_state",kind:"Field",metadata:{},type:"SavedState"}],fieldName:"save_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"StorySaveInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"story",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Story"},{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],directives:[{kind:"Directive",name:"fb_owner",args:[{name:"oncall",value:{kind:"CallValue",callValue:"job_search"}}]}],kind:"Mutation",metadata:{inputType:"StoryUnsaveData!"},name:"SaveStoryRelayModernMutation_UnsaveMutation",responseType:"StoryUnsaveResponsePayload"}}()}}},k={modern:function(){return b("SaveStoryRelayModernMutation_StateQuery.graphql")},classic:function(a){return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"input"}],name:"SaveStoryRelayModernMutation_StateQuery",operation:"query",node:function(){return{children:[{calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{fieldName:"viewer_save_state",kind:"Field",metadata:{},type:"SavedState"}],fieldName:"save_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"StorySaveInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"story_card",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Story"}],directives:[{kind:"Directive",name:"fb_owner",args:[{name:"oncall",value:{kind:"CallValue",callValue:"three_d_in_feed"}}]}],id:a.__id(),kind:"Fragment",metadata:{},name:"SaveStoryRelayModernMutation_StateQuery",type:"Query"}}()}}};function a(a,c){c={input:c};return h(a,k,c).then(function(a){a=a.story_card.save_info.viewer_save_state;return a===b("FBStorySavedState").SAVED})}function c(a,b,c,d){var e=b?i:j,f=function(a){a=a.get(c.story_id);if(!a)return;a=a.getLinkedRecord("save_info");a&&a.setValue(b,"viewer_save_state")};return g(a,{mutation:e,updater:f,variables:{input:c},onCompleted:d&&d.onSuccess,onError:d&&d.onFailure,optimisticUpdater:d&&d.optimisticUpdater})}e.exports={commit:c,isStorySaved:a}}),null);
__d("ImmersiveMediaFbt",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SAVE_TO_VR:"SAVE_TO_VR",SAVED:"SAVED",SAVE_NUX:"SAVE_NUX",LINK_PROMPT:"LINK_PROMPT",LEARN_MORE:"LEARN_MORE",EXPERIENCE_OCULUS:"EXPERIENCE_OCULUS"})}),null);
__d("ImmersiveMediaOverlayComponent.react",["ix","cx","Image.react","ImmersiveMediaFbt","ImmersiveMediaStrings","Link.react","React","Text","XUIButton.react","XUICloseButton.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").SAVE_TO_VR],k=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").SAVED],l=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").SAVE_NUX],m=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").LINK_PROMPT],n=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").LEARN_MORE],o=b("ImmersiveMediaStrings")[b("ImmersiveMediaFbt").EXPERIENCE_OCULUS];c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={showMessage:!1},b}a.prototype.saveButtonClick=function(){this.props.saveClick&&this.props.saveClick(),this.props.showNUX&&this.setState({showMessage:!0})};a.prototype.savedButtonClick=function(){this.props.unsaveClick&&this.props.unsaveClick()};a.prototype.closeButtonClick=function(){this.setState({showMessage:!1})};a.prototype.render=function(){var a="_781e",c={color:"white",fontSize:16,lineHeight:20,textAlign:"center"},d=b("React").createElement("div",{className:b("joinClasses")("_781f",a)},b("React").createElement(b("Image.react"),{src:g("764253")}),b("React").createElement(b("Text"),{style:c},l));c=b("React").createElement("div",{className:b("joinClasses")("_781f",a)},b("React").createElement(b("Image.react"),{src:g("764253")}),b("React").createElement(b("Text"),{style:c},o),b("React").createElement(b("XUIButton.react"),{label:n,className:"_781g",href:"https://www.oculus.com/",target:"_blank"}),b("React").createElement(b("Link.react"),{href:"https://support.oculus.com/1775053542763938",target:"_blank"},b("React").createElement(b("Text"),{style:{color:"white"}},m)));d=b("React").createElement("div",null,b("React").createElement("div",{className:"_781h"}),b("React").createElement("div",null,this.props.hasOculusAccount?d:c,b("React").createElement(b("XUICloseButton.react"),{className:b("joinClasses")("_781i",a),size:"large",shade:"light",onClick:function(){return this.closeButtonClick()}.bind(this)})));c=b("React").createElement(b("XUIButton.react"),{className:b("joinClasses")("_781j","_781g"),onClick:function(){return this.saveButtonClick()}.bind(this),image:b("React").createElement(b("Image.react"),{src:g("556057")}),label:this.props.showNUX?j:""});a=b("React").createElement(b("XUIButton.react"),{className:b("joinClasses")("_781j","_781g"),onClick:function(){return this.savedButtonClick()}.bind(this),image:b("React").createElement(b("Image.react"),{src:g("505217")}),label:k});return b("React").createElement("div",null,b("React").createElement("div",{className:this.state.showMessage?"_781k":""},this.state.showMessage?null:this.props.storySaved?a:c),this.state.showMessage&&d)};e.exports=a}),null);
__d("ImmersiveMediaOverlay.react",["CollectionCurationMechanismsValue","ImmersiveMediaOverlayComponent.react","React","RelayFBEnvironment","SaveStoryRelayModernMutation","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={storySaved:!1,hasOculusAccount:!1},b}a.prototype.componentDidMount=function(){var a=b("gkx")("777521");this.setState({hasOculusAccount:a});this.props.graphQLID!=null&&b("promiseDone")(b("SaveStoryRelayModernMutation").isStorySaved(b("RelayFBEnvironment"),this.props.graphQLID).then(function(a){this.setState({storySaved:a})}.bind(this)))};a.prototype.saveButtonClick=function(){this.props.graphQLID!=null&&b("SaveStoryRelayModernMutation").commit(b("RelayFBEnvironment"),!this.state.storySaved,{mechanism:b("CollectionCurationMechanismsValue").saved_add,story_id:this.props.graphQLID,surface:"native_marketplace_product_details"},{optimisticUpdater:function(a){this.setState({storySaved:!0})}.bind(this)})};a.prototype.render=function(){return b("React").createElement(b("ImmersiveMediaOverlayComponent.react"),{saveClick:function(){return this.saveButtonClick()}.bind(this),storySaved:this.state.storySaved,showNUX:!0,hasOculusAccount:this.state.hasOculusAccount})};e.exports=a}),null);
__d("EnterVrButton.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","React","SUIBusinessTheme","SUITooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;k=babelHelpers.inherits(a,b("React").PureComponent);k&&k.prototype;a.prototype.render=function(){var a=b("React").createElement(b("Image.react"),{src:g("556058")}),c="",d="",e;this.props.inVr?(c=b("React").createElement("div",{className:"_6ydz"},i._("VR mode on")),d=i._("Exit VR")):this.props.isLoading?c=b("React").createElement("div",{className:"_6ydz"},i._("Loading")):d=i._("Enter VR");this.props.needsOverlay&&(e=b("React").createElement("div",{className:"_6yd-"}));c=b("React").createElement("div",null,e,b("React").createElement("div",{className:"_6yd_"},c,b("React").createElement(b("SUITooltip.react"),{ref:function(a){return this.$1=a}.bind(this),theme:b("SUIBusinessTheme"),tooltip:d,tooltipDelay:500},b("React").createElement(b("AbstractButton.react"),{disabled:this.props.isLoading,label:d,labelIsHidden:!0,className:"_6ye0",image:a,onClick:function(){this.props.onClickCallback(),this.__hideToolTip()}.bind(this)}))));return c};a.prototype.__hideToolTip=function(){this.$1||j(0,5e3),this.$1.hide()};function a(){k.apply(this,arguments)}e.exports=a}),null);
__d("WebVrContainer.react",["cx","invariant","EnterVrButton.react","React","Spotlight.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={inVr:!1,isVrDeviceReady:!1,isClientReady:!1,vrCanvas:null,vrRenderWidth:0,vrRenderHeight:0},b}a.prototype.setDeviceReady=function(a,b,c){this.setState({isVrDeviceReady:a,vrRenderWidth:b,vrRenderHeight:c})};a.prototype.setIsClientReady=function(a){this.setState({isClientReady:a})};a.prototype.setVrOn=function(a){this.state.inVr||(this.state.vrCanvas===null||h(0,10946),a.parentElement===null||h(0,10947),this.setState({inVr:!0,vrCanvas:a}))};a.prototype.setVrOff=function(){if(this.state.inVr){var a=this.$1;a!==null&&a!==void 0||h(0,10943);var b=this.state.vrCanvas;b!==null&&b!==void 0||h(0,10944);b.parentElement===a||h(0,10945);a.removeChild(b);this.setState({inVr:!1,vrCanvas:null})}};a.prototype.componentDidUpdate=function(){if(this.state.inVr){var a=this.$1;a!==null&&a!==void 0||h(0,11040);var b=this.state.vrCanvas;b!==null&&b!==void 0||h(0,11039);a.appendChild(b)}};a.prototype.render=function(){__p&&__p();var a;if(!this.state.isVrDeviceReady)a=b("React").createElement("div",null);else{var c=b("React").createElement(b("EnterVrButton.react"),{onClickCallback:function(){this.state.inVr?this.props.exitVrCallback():this.props.enterVrCallback()}.bind(this),needsOverlay:this.props.needsOverlay,inVr:this.state.inVr,isLoading:!this.state.isClientReady});if(this.state.inVr){var d={width:this.state.vrRenderWidth,maxWidth:"80vw",height:this.state.vrRenderHeight,maxHeight:"90vh",overflow:"hidden",position:"relative"};d=b("React").createElement(b("Spotlight.react"),{onHide:function(){this.props.exitVrCallback()}.bind(this),shown:this.state.inVr,rootClassName:"_6_ca"},b("React").createElement("div",{className:"_n3",style:d},b("React").createElement("div",{ref:function(a){return this.$1=a}.bind(this)}),c));a=b("React").createElement("div",null,d)}else a=b("React").createElement("div",null,c)}return a};e.exports=a}),null);
__d("WebVrDeviceManager",["invariant","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();h.getInstance=function(){h.$1==null&&(h.$1=new h());return h.$1};function h(){__p&&__p();this.$4=[],this.$13=function(){if(this.inVr()){var a=this.$2;a||g(0,10939);a=a.onVrRender;a||g(0,11325);this.$8=this.$3.requestAnimationFrame(this.$13);a()}}.bind(this),h.$1===null||g(0,11125),this.$8=null,this.$6=!1,this.$3=null,this.$9(),window.addEventListener("vrdisplayconnect",function(){this.$9()}.bind(this)),window.addEventListener("vrdisplaydisconnect",function(){this.$9()}.bind(this)),document.addEventListener("visibilitychange",function(){document.visibilityState!=="visible"&&b("promiseDone")(this.exitVr())}.bind(this)),window.addEventListener("vrdisplaypresentchange",function(){this.$3.isPresenting?this.$10():this.$11()}.bind(this)),window.addEventListener("vrdisplayblur",function(){this.$2&&this.$2.onVrFocusChange&&this.$2.onVrFocusChange()}.bind(this)),window.addEventListener("vrdisplayfocus",function(){this.$2&&this.$2.onVrFocusChange&&this.$2.onVrFocusChange()}.bind(this)),window.addEventListener("vrdisplayactivate",function(a){this.$2&&this.$2.onVrFocusChange&&this.$2.onVrFocusChange();var b=this.$7;if(b&&!this.$3.isPresenting){a={onVrEnter:function(){this.$6=!0,b.onVrDeepLink()}.bind(this),onVrExit:function(){},vrAttributes:b.vrAttributes,vrCanvas:b.vrCanvas};this.enterVr(a)}}.bind(this)),window.addEventListener("vrdisplaydeactivate",function(a){this.$2&&this.$2.onVrFocusChange&&this.$2.onVrFocusChange()}.bind(this))}h.prototype.setDeeplinkProps=function(a){this.$7=a};h.prototype.isDeepLink=function(){return this.$6};h.prototype.addDeviceReadyListner=function(a){this.$4.push(a),a(this.$3)};h.prototype.removeDeviceReadyListner=function(a){a=this.$4.indexOf(a);a>=0&&this.$4.splice(a,1)};h.prototype.$12=function(){this.$4.forEach(function(a){a(this.$3)}.bind(this))};h.prototype.$9=function(){navigator.getVRDisplays?b("promiseDone")(b("Promise").resolve(navigator.getVRDisplays().then(function(a){a.length>0?this.$3=a[0]:this.$3=null,this.$12()}.bind(this)))):this.$3=null};h.prototype.enterVr=function(a){__p&&__p();if(this.$3){if(this.$3.isPresenting){this.$11();this.$2=a;this.$10();return b("Promise").resolve()}this.$2=a;return b("Promise").all([this.$3.requestPresent([{source:this.$2.vrCanvas,attributes:this.$2.vrAttributes}])])}return b("Promise").resolve()};h.prototype.$10=function(){var a=this.$2;a||g(0,10938);this.$5=Date.now();a.onVrEnter();a.onVrRender&&(this.$8=this.$3.requestAnimationFrame(this.$13))};h.prototype.exitVr=function(){return this.$3&&this.$3.isPresenting?b("Promise").all([this.$3.exitPresent()]):b("Promise").resolve()};h.prototype.$11=function(){var a=this.$2;a||g(0,10936);var b=this.$5;b=b!==null&&b!==void 0?Date.now()-b:0;this.$5=null;this.$8!==null&&this.$3.cancelAnimationFrame(this.$8);this.$8=null;a.onVrExit(b);this.$2=null};h.prototype.inVr=function(){return this.$3&&this.$3.isPresenting};h.$1=null;e.exports=h}),null);