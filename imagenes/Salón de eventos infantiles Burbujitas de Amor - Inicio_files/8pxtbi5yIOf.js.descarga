if (self.CavalryLogger) { CavalryLogger.start_js(["lgiWq"]); }

__d("SphericalPhotoComposerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("spherical_photo_composer:SphericalPhotoComposerLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("spherical_photo_composer:SphericalPhotoComposerLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("spherical_photo_composer:SphericalPhotoComposerLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeltaTime=function(a){this.$1.delta_time=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setErrorMessageHash=function(a){this.$1.error_message_hash=a;return this};a.prototype.setErrorStackTrace=function(a){this.$1.error_stack_trace=a;return this};a.prototype.setIsemployee=function(a){this.$1.isemployee=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setNumberOfMagicTags=function(a){this.$1.number_of_magic_tags=a;return this};a.prototype.setNumberOfPhoto=function(a){this.$1.number_of_photo=a;return this};a.prototype.setNumberOfSphericalPhoto=function(a){this.$1.number_of_spherical_photo=a;return this};a.prototype.setNumberOfTags=function(a){this.$1.number_of_tags=a;return this};a.prototype.setPhotoID=function(a){this.$1.photo_id=a;return this};a.prototype.setPitch=function(a){this.$1.pitch=a;return this};a.prototype.setProjectionType=function(a){this.$1.projection_type=a;return this};a.prototype.setSessionPhotoID=function(a){this.$1.session_photo_id=a;return this};a.prototype.setSourceHeight=function(a){this.$1.source_height=a;return this};a.prototype.setSourceProjectionType=function(a){this.$1.source_projection_type=a;return this};a.prototype.setSourceWidth=function(a){this.$1.source_width=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVfov=function(a){this.$1.vfov=a;return this};a.prototype.setYaw=function(a){this.$1.yaw=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={client_userid:!0,composer_session_id:!0,country:!0,delta_time:!0,error_message:!0,error_message_hash:!0,error_stack_trace:!0,isemployee:!0,name:!0,number_of_magic_tags:!0,number_of_photo:!0,number_of_spherical_photo:!0,number_of_tags:!0,photo_id:!0,pitch:!0,projection_type:!0,session_photo_id:!0,source_height:!0,source_projection_type:!0,source_width:!0,surface:!0,vfov:!0,yaw:!0};e.exports=a}),null);
__d("SphericalPhotoComposerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANVAS_RESIZE_START:"spherical_photo_www_canvas_resize_start",CANVAS_RESIZE_IMG_LOADED:"spherical_photo_www_canvas_resize_img_loaded",CANVAS_RESIZE_SUCCESS:"spherical_photo_www_canvas_resize_success",CANVAS_RESIZE_FAILED:"spherical_photo_www_canvas_resize_failed",GL_INIT_FAILURE:"spherical_photo_gl_init_failure",GL_CONTEXT_LOST:"spherical_photo_gl_context_lost",GL_RENDER_FAILURE:"spherical_photo_gl_render_failure",IVS_DRAG_START:"spherical_photo_ivs_drag_start",IVS_SET:"spherical_photo_ivs_set",IVS_TOGGLE_OFF:"spherical_photo_ivs_toggle_off",IVS_TOGGLE_ON:"spherical_photo_ivs_toggle_on",POST:"spherical_photo_post",SERVER_IVS_UPDATE_DONE:"spherical_photo_server_ivs_update_done",SERVER_IVS_UPDATE_FAILED:"spherical_photo_server_ivs_update_failed",SERVER_IVS_UPDATE_START:"spherical_photo_server_ivs_update_start",TAG_CANCEL:"spherical_photo_tag_cancel",TAG_CHANGES_FROM_COMPOSER:"spherical_photo_tag_changes_from_composer",TAG_CLICK_LABEL:"spherical_photo_tag_click_label",TAG_CLICK_TO_TAG:"spherical_photo_tag_click_to_tag",TAG_CREATE:"spherical_photo_tag_create",TAG_CREATE_FROM_FACEBOX:"spherical_photo_tag_create_from_facebox",TAG_DELETE:"spherical_photo_tag_delete",TAG_OPEN_DIALOG:"spherical_photo_tag_open_dialog",TAG_SAVE:"spherical_photo_tag_save",WWW_IVS_CANCEL:"spherical_photo_www_ivs_cancel",WWW_IVS_DISABLE_ON_SAVE:"spherical_photo_www_ivs_disable_on_save",WWW_IVS_ENABLE_ON_SAVE:"spherical_photo_www_ivs_enable_on_save",WWW_IVS_OPEN:"spherical_photo_www_ivs_open",WWW_IVS_REQUEST_DONE:"spherical_photo_www_ivs_request_done",WWW_IVS_REQUEST_FAILED:"spherical_photo_www_ivs_request_failed",WWW_IVS_REQUEST_START:"spherical_photo_www_ivs_request_start",WWW_IVS_UPDATE_DONE:"spherical_photo_www_ivs_update_done",WWW_IVS_UPDATE_FAILED:"spherical_photo_www_ivs_update_failed",WWW_IVS_UPDATE_START:"spherical_photo_www_ivs_update_start",SERVER_RENDER_PROJ_UPDATE_DONE:"spherical_photo_server_renderer_projection_update_done",SERVER_RENDER_PROJ_UPDATE_FAILED:"spherical_photo_server_renderer_projection_update_failed",SERVER_RENDER_PROJ_UPDATE_START:"spherical_photo_server_renderer_projection_update_start",SERVER_INVALID_METADATA:"spherical_photo_server_invalid_metadata"})}),null);
__d("SphericalPhotoTagLoggingUtil",["SphericalMediaActions","SphericalPhotoComposerEvents","SphericalPhotoComposerTypedLogger","SphericalMediaConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SphericalPhotoComposerTypedLogger"))(),h=b("SphericalMediaConstants").UNTAGGED_FACEBOX;a=function(a,c){__p&&__p();g.clear().setComposerSessionID(c.sessionID).setPhotoID(c.fbid).setProjectionType(c.projectionType).setSurface(c.surface);var d=0,e=0;switch(a.type){case b("SphericalMediaActions").UPDATE_SPATIAL_TAGS_FROM_COMPOSER:c=a.data;c.forEach(function(a){a.type!==h&&e++,a.isMagicFaceboxTag&&d++});g.setName(b("SphericalPhotoComposerEvents").TAG_CHANGES_FROM_COMPOSER).setNumberOfTags(e).setNumberOfMagicTags(d).log();break;case b("SphericalMediaActions").DELETED_SPATIAL_TAG:g.setName(b("SphericalPhotoComposerEvents").TAG_DELETE).log();break;case b("SphericalMediaActions").SAVE_DIALOG_TAGS:c=a.data;c.forEach(function(a){a.type!==h&&e++,a.isMagicFaceboxTag&&d++});g.setName(b("SphericalPhotoComposerEvents").TAG_SAVE).setNumberOfTags(e).setNumberOfMagicTags(d).log();break;case b("SphericalMediaActions").CANCEL_DIALOG_TAG_CHANGES:g.setName(b("SphericalPhotoComposerEvents").TAG_CANCEL).log();break;case b("SphericalMediaActions").REDIRECT_FROM_CLICKED_TAG:g.setName(b("SphericalPhotoComposerEvents").TAG_CLICK_LABEL).log();break;case b("SphericalMediaActions").OPEN_TAG_DIALOG:g.setName(b("SphericalPhotoComposerEvents").TAG_OPEN_DIALOG).log();break;case b("SphericalMediaActions").TAGGING_START:g.setName(b("SphericalPhotoComposerEvents").TAG_CLICK_TO_TAG).log();break;case b("SphericalMediaActions").ADD_SPATIAL_TAG_FROM_PHOTO_TAGGER:g.setName(b("SphericalPhotoComposerEvents").TAG_CREATE).log();break}};e.exports={log:a}}),null);
__d("SphericalPhotoViewerLoggingUtil",["SphericalMediaActions","SphericalPhotoViewerLogEvents","SphericalPhotoViewerTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SphericalPhotoViewerTypedLogger"))();a=function(a,c){__p&&__p();g.clear().setSphericalPhotoSessionID(c.sessionID).setPhotoID(c.fbid).setSurface(c.surface);var d,e;switch(a.type){case b("SphericalMediaActions").DRAG_START:g.setName(b("SphericalPhotoViewerLogEvents").DRAG_START).log();break;case b("SphericalMediaActions").GYRO_START:g.setName(b("SphericalPhotoViewerLogEvents").WWW_GYRO_START).log();break;case b("SphericalMediaActions").ZOOM_START:g.setName(b("SphericalPhotoViewerLogEvents").ZOOM_START).log();break;case b("SphericalMediaActions").SIGNIFICANT_MOVE:e=c.viewStore.getState().view;g.setName(b("SphericalPhotoViewerLogEvents").SIGNIFICANT_MOVEMENT).setYaw(e.yaw).setPitch(e.pitch).setVfov(e.fov).setViewportWidth(c.width).setViewportHeight(c.height).log();break;case b("SphericalMediaActions").MOUSE_ENTER:g.setName(b("SphericalPhotoViewerLogEvents").MOUSEOVER_START).log();break;case b("SphericalMediaActions").TAP_HEADING_INDICATOR:g.setName(b("SphericalPhotoViewerLogEvents").TAP_HEADING_INDICATOR).log();break;case b("SphericalMediaActions").MOUSE_ANIMATION_START:g.setName(b("SphericalPhotoViewerLogEvents").DRAG_MOUSE_ANIMATION).log();break;case b("SphericalMediaActions").SETUP_RENDERER:g.setName(b("SphericalPhotoViewerLogEvents").RENDERER_SETUP).setDt(a.data.dt).setRenderMethod(c.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").log();break;case b("SphericalMediaActions").WEBGL_RENDER_FAILED:d=a.data.error;e=c.viewStore.getState().view;g.setName(b("SphericalPhotoViewerLogEvents").WEBGL_RENDER_FAILURE).setErrorMessage(d.message).setRenderMethod(c.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").setYaw(e.yaw).setPitch(e.pitch).setVfov(e.fov).setViewportWidth(c.width).setViewportHeight(c.height).setErrorStackTrace(d.stack&&d.stack.split&&d.stack.split("at ")[1]).log();break;case b("SphericalMediaActions").WEBGL_CONTEXT_LOST:g.setName(b("SphericalPhotoViewerLogEvents").WEBGL_CONTEXT_LOST).log();break;case b("SphericalMediaActions").WEBGL_INIT_FAILED:d=a.data.error;g.setName(b("SphericalPhotoViewerLogEvents").WEBGL_INIT_FAILURE).setErrorMessage(d.message).setRenderMethod(c.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").setViewportWidth(c.width).setViewportHeight(c.height).setErrorStackTrace(d.stack&&d.stack.split&&d.stack.split("at ")[1]).log();break;case b("SphericalMediaActions").PHOTO_RENDERER_STATS:g.updateData(a.data).setName(b("SphericalPhotoViewerLogEvents").RENDERER_STATS).log();break}};e.exports={log:a}}),null);