if (self.CavalryLogger) { CavalryLogger.start_js(["u6dqH"]); }

__d("LiveVideoQuickCommentsListContainerRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"video_id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"video_id",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"LiveVideoQuickCommentsListContainerRefetchQuery",id:"1889557471116140",text:null,metadata:{},fragment:{kind:"Fragment",name:"LiveVideoQuickCommentsListContainerRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"quick_comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComments",plural:!1,selections:[{kind:"FragmentSpread",name:"LiveVideoQuickCommentsListContainer_list",args:null}]}]}]},operation:{kind:"Operation",name:"LiveVideoQuickCommentsListContainerRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"quick_comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComments",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"logger_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"quality",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("LiveVideoQuickCommentsListContainer_list.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"LiveVideoQuickCommentsListContainer_list",type:"LiveVideoQuickComments",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"logger_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"quality",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("LiveVideoQuickCommentsListContainer_pollingInterval.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"LiveVideoQuickCommentsListContainer_pollingInterval",type:"LiveVideoQuickComments",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"polling_interval",args:null,storageKey:null}]};e.exports=a}),null);
__d("LiveVideoViewerCommentExperiments",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_COMMENTS:"quick_comments",QUICK_COMMENTS_VOD:"quick_comments_vod",QUICK_COMMENTS_STICKY:"quick_comments_sticky",WAVE:"wave",WAVE_COMMENT_CTA:"wave_comment_cta",WAVE_BACK_CTA:"wave_back_cta",WAVE_RTJ_CTA:"wave_rtj_cta",BLURRED_NEWSFEED_LIVE:"blurred_newsfeed_live",FULLSCREEN_FADING_LIVE_BADGE:"fullscreen_fading_live_badge",FULLSCREEN_PROMPT_NEWSFEED:"fullscreen_prompt_newsfeed",FULLSCREEN_PROMPT_NEWSFEED_SHORT_DELAY:"fullscreen_prompt_newsfeed_short_delay",FULLSCREEN_PROMPT_NEWSFEED_LONG_DELAY:"fullscreen_prompt_newsfeed_long_delay",FULLSCREEN_PORTRAIT_REDUCED_COMMENT_LIST_HEIGHT:"fullscreen_portrait_reduced_comment_list_height",FULLSCREEN_PROMPT_NEWSFEED_AUTOHIDE:"fullscreen_prompt_newsfeed_autohide",REACTION_SUBMISSION_RATE_LIMIT:"reaction_submission_rate_limit",MORE_REACTION_SUBMIT_PEEKABOO:"reaction_submit_peekaboo",VOD_FOLLOW_CTA:"vod_follow_cta",COMMENT_REACTIONS:"comment_reactions",COMMENT_REACTIONS_UPDATES:"comment_reactions_updates",THREADED_COMMENTS:"threaded_comments",PRODUCE_STICKER_COMMENT:"produce_sticker_comment",TIP_JAR_PAYMENT:"tip_jar_payment",SCHEDULED_LIVE_V2_DESIGN:"scheduled_live_v2_design",STICKER_COMMENTS:"sticker_comments"})}),null);
__d("LiveVideoQuickCommentsListContainer.react",["ix","cx","Arbiter","FlexboxContainer.react","FluxContainer","Image.react","LiveVideoViewerCommentExperiments","React","ReactCSSTransitionGroup","RelayModern","ShimButton.react","UFIAddCommentAction","UFIAddCommentActionType","UFISharedDispatcher","UFIThreadedFacecastCommentsStore","asset","LiveVideoQuickCommentsListContainer_list.graphql","LiveVideoQuickCommentsListContainer_pollingInterval.graphql","LiveVideoQuickCommentsListContainerRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){this.setState(function(a){return{isVisible:a.isVisible,isExpanded:!a.isExpanded}})}.bind(this),b}a.getStores=function(){return[b("UFIThreadedFacecastCommentsStore")]};a.calculateState=function(a,c){if(!a)return{isVisible:!0,isExpanded:!1};if(b("UFIThreadedFacecastCommentsStore").getCommentID(c.contextArgs.instanceid)!=null)return babelHelpers["extends"]({},a,{isVisible:!1});else return a};a.prototype.$1=function(){this.setState(function(a){return{isVisible:!1,isExpanded:a.isExpanded}})};a.prototype.componentDidMount=function(){setTimeout(function(){return b("Arbiter").inform("quick-comments-visible-changed",!0)},0);this.ufiDispatchToken=b("UFISharedDispatcher").register(function(a){a.type===b("UFIAddCommentActionType").SUBMIT_NEW&&(this.props.modes.indexOf(b("LiveVideoViewerCommentExperiments").QUICK_COMMENTS_STICKY)===-1&&this.$1())}.bind(this));var a=this.props.pollingInterval.polling_interval;if(a==0||a==null)return;this.intervalID=setInterval(function(){this.props.relay.refetch({video_id:this.props.videoID},null,function(){},{force:!0})}.bind(this),a*1e3)};a.prototype.componentDidUpdate=function(a,c){c.isVisible!==this.state.isVisible&&b("Arbiter").inform("quick-comments-visible-changed",this.state.isVisible),c.isExpanded!==this.state.isExpanded&&b("Arbiter").inform("quick-comments-expanded-changed",this.state.isExpanded)};a.prototype.componentWillUnmount=function(){this.ufiDispatchToken&&b("UFISharedDispatcher").unregister(this.ufiDispatchToken),clearInterval(this.intervalID)};a.prototype.render=function(){var a=this.state.isExpanded?b("React").createElement(b("Image.react"),{src:g("494101")}):b("React").createElement(b("Image.react"),{src:g("546681")});return b("React").createElement(b("ReactCSSTransitionGroup"),{transitionAppear:!0,transitionAppearTimeout:3e3,transitionEnter:!1,transitionLeave:!0,transitionLeaveTimeout:3e3,transitionName:{appear:"_68qw",appearActive:"_68qx",leave:"_68qy",leaveActive:"_68qz"}},this.state.isVisible?b("React").createElement(b("FlexboxContainer.react"),{className:"_3d83"},b("React").createElement("div",{className:this.state.isExpanded?"_68q- _3d84":"_68q- _3d9b",key:"quick-comments"},this.props.list.comments.map(function(a){var c,d=(c=a)!=null?(c=c.text)!=null?c.text:c:c;return d==null?null:b("React").createElement(b("ShimButton.react"),{"data-testid":a.logger_text,key:a.logger_text,className:"_68r3",onClick:function(event){this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,{encodedValue:d,visibleValue:d,liveVideoQuickCommentQuality:a.quality},event.target))}.bind(this)},d)}.bind(this))),b("React").createElement(b("ShimButton.react"),{className:"_3d9c",onClick:this.$2},a)):null)};a.contextTypes={dispatch:d.func};e.exports=c(b("FluxContainer").create(a,{pure:!1,withProps:!0}),{list:function(){return b("LiveVideoQuickCommentsListContainer_list.graphql")},pollingInterval:function(){return b("LiveVideoQuickCommentsListContainer_pollingInterval.graphql")}},function(){return b("LiveVideoQuickCommentsListContainerRefetchQuery.graphql")})}),null);
__d("LiveVideoQuickCommentsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"video_id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"video_id",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"LiveVideoQuickCommentsQuery",id:"1733960553352815",text:null,metadata:{},fragment:{kind:"Fragment",name:"LiveVideoQuickCommentsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"quick_comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComments",plural:!1,selections:[{kind:"FragmentSpread",name:"LiveVideoQuickCommentsListContainer_list",args:null},{kind:"FragmentSpread",name:"LiveVideoQuickCommentsListContainer_pollingInterval",args:null}]}]}]},operation:{kind:"Operation",name:"LiveVideoQuickCommentsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:b,concreteType:"Video",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"quick_comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComments",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comments",storageKey:null,args:null,concreteType:"LiveVideoQuickComment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"logger_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"quality",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"polling_interval",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("LiveVideoQuickComments.react",["LiveVideoQuickCommentsListContainer.react","React","RelayFBEnvironment","RelayModern","LiveVideoQuickCommentsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("LiveVideoQuickCommentsQuery.graphql")}),variables:{video_id:this.props.videoID},render:function(a){var c=a.error;a=a.props;return c||!a||!a.video?null:b("React").createElement(b("LiveVideoQuickCommentsListContainer.react"),{contextArgs:this.props.contextArgs,videoID:this.props.videoID,list:a.video.quick_comments,pollingInterval:a.video.quick_comments,modes:this.props.modes})}.bind(this)})};function a(){g.apply(this,arguments)}a.contextTypes={dispatch:c.func};e.exports=a}),null);
__d("TahoeComments",["csx","Arbiter","DOMQuery","SubscriptionsHandler","TahoeActions","UFIInstanceActionType","UFILiveVideoAutoscrollHandler","UFIOrderingModeStore","UFISharedDispatcher","UFIStoryActionType","UFIUIEvents","Visibility"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=new(b("UFILiveVideoAutoscrollHandler"))(),this.$4=a.ufi,this.$6={instanceid:a.instanceID,ftentidentifier:a.feedbackTargetID},this.$3=!1,this.$5=new(b("SubscriptionsHandler"))(),this.$5.addSubscriptions(b("Arbiter").subscribe(b("UFIUIEvents").CommentChanged,function(b,c){c.ftentidentifier===a.feedbackTargetID&&this.$7()}.bind(this)),b("Arbiter").subscribe("TahoeView/selectCommentTab",function(){b("UFIOrderingModeStore").isLiveStreaming(this.$6.instanceid)&&this.$8()}.bind(this)),b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$8()}.bind(this))),b("UFISharedDispatcher").register(function(a){(a.type===b("UFIInstanceActionType").CHANGE_ORDER_MODE||a.type===b("UFIStoryActionType").SHOW_FACECAST_REPLIES||a.type===b("UFIStoryActionType").HIDE_FACECAST_REPLIES)&&this.$8()}.bind(this)),this.$8(),b("TahoeActions").setUFIInstanceID(a.instanceID)}a.prototype.$7=function(){"use strict";if(!this.$2){var a=b("DOMQuery").scry(this.$4,"._j6a");this.$2=a?a[0]:null}this.$2&&this.$1.manageScroll(this.$2,this.$6,!this.$3,function(){this.$3=!0}.bind(this))};a.prototype.$8=function(){"use strict";this.$3=!1,this.$2=null,this.$7()};e.exports=a}),null);
__d("TahoeShareButton.react",["React","UFIShareNowMenuBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.endpoint;a=a.endpointData;return b("React").createElement(b("UFIShareNowMenuBootloader.react"),{endpoint:c,endpointData:a,openOnInitOverride:!1})};function a(){g.apply(this,arguments)}e.exports=a}),null);