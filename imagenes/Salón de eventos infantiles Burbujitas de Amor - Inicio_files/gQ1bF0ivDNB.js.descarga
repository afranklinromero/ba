if (self.CavalryLogger) { CavalryLogger.start_js(["xsMuT"]); }

__d("TahoeEndScreenProgressCircle.react",["cx","React","ReactDOM","Style"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=0,this.$3=0,b}a.prototype.componentDidMount=function(){"use strict";this.$3=this.$2,this.drawProgressCircle(this.props)};a.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.$1)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a)};a.prototype.drawProgressCircle=function(a){"use strict";__p&&__p();clearInterval(this.$1);var c=b("ReactDOM").findDOMNode(this.refs.progressCircle);if(!c)return;if(a.timeoutSec===0){b("Style").set(c,"stroke-dashoffset",this.$2+"px");return}var d=this.$2/100;b("Style").set(c,"stroke-dashoffset",this.$3+"px");a.makeProgress&&(this.$1=setInterval(function(){this.$3-=d,b("Style").set(c,"stroke-dashoffset",this.$3+"px"),this.$3<=0&&(clearInterval(this.$1),b("Style").set(c,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())}.bind(this),a.timeoutSec*10))};a.prototype.render=function(){"use strict";var a=this.props.circleDiameter,c=4,d=a/2,e=d-c/2;this.$2=e*2*Math.PI;return b("React").createElement("div",null,b("React").createElement("svg",{className:"_4bcw",style:{height:a,width:a}},b("React").createElement("circle",{cx:d,cy:d,r:d,fill:"rgba(0, 0, 0, 0.3)"}),b("React").createElement("circle",{ref:"progressCircle",cx:d,cy:d,r:e,fill:"transparent",stroke:"#ffffff",strokeWidth:c,strokeDasharray:this.$2})),this.props.children)};a.propTypes={children:c.element,makeProgress:c.bool.isRequired,onProgressDone:c.func,timeoutSec:c.number.isRequired};a.defaultProps={circleDiameter:48};e.exports=a}),null);
__d("TahoeGridViewEndScreenItem.react",["cx","fbt","CssBackgroundImage.react","LineClamp.react","Link.react","React","TahoeLoggerEvent","UFIReactionsBlingTokens.react","URI","VideoDuration.react","XUIText.react","gkx","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=3,k=16/9;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.permalink,d=a.thumbURI,e=a.imageWidth,f=a.title,g=a.viewCount,i=a.feedback,l=a.duration,m=a.isLive,n=a.isSpherical;a=a.style;if(e<=0)return null;var o=i&&i.reactioncount;o=o&&o>0;var p=b("gkx")("678922");return b("React").createElement("div",{className:"_1iwg"+(p?" _6p3t":""),style:a},b("React").createElement(b("Link.react"),{href:new(b("URI"))(c),onClick:function(){return this.props.logEvent(b("TahoeLoggerEvent").GRID_VIEW_END_SCREEN_CLICK_VIDEO)}.bind(this)},b("React").createElement("div",{className:"_1iwh"},b("React").createElement(b("CssBackgroundImage.react"),{height:e/k,width:e,imageURI:d,backgroundPosition:"50% 50%",className:"_6rcn"}),b("React").createElement("div",{className:"_1iwj"}),b("React").createElement("div",{className:"_6p3u"},f?b("React").createElement("div",{className:"_64dj _6p3v _1iw-"},b("React").createElement(b("LineClamp.react"),{lines:2,fitHeightToShorterText:!0},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},f))):null,b("React").createElement("div",{className:"_64dn _6p3v"},g>0?b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_64dj _31wk"},h._({"*":"{number} reproducciones","_1":"1 reproducci\u00f3n"},[h._plural(g,"number",b("intlSummarizeNumber")(g))])):null,o&&i?b("React").createElement("div",{className:"_4ar- _64do _64dj"},b("React").createElement(b("UFIReactionsBlingTokens.react"),{feedback:i,max:j,size:"16",noLinks:!0},b("React").createElement("div",null,i.reactioncountreduced))):null,b("React").createElement("div",{className:"_2exg _6p3v"},b("React").createElement(b("VideoDuration.react"),{duration:l,isLive:m,isSpherical:n})))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("TahoeGridViewEndScreen.react",["cx","fbt","CenteredContainer.react","Image.react","React","ReactDOM","ResizeListener","TahoeGridViewEndScreenItem.react","TahoeLoggerEvent","gkx","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=400,k=800,l=500,m=1350,n=840,o=.6,p=16/9,q=44,r=98,s=8;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=null,this.state={colCount:0,rowCount:0,itemWidth:0,rootHorizPadding:q},b}a.prototype.componentDidMount=function(){this.$2=b("ResizeListener").add(function(){return this.$3()}.bind(this)),this.$3(),this.props.logEvent(b("TahoeLoggerEvent").GRID_VIEW_END_SCREEN_SHOWN)};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.remove()};a.prototype.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};a.prototype.render=function(){var a=this.props.videosData;if(a.length===0)return this.$4();var c=this.$5(),d=this.state.colCount*this.state.rowCount;return b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,ref:function(a){this.$1=a}.bind(this),style:{padding:"0 "+this.state.rootHorizPadding/2+"px"}},a?b("React").createElement("div",{className:"_1vgj"},b("React").createElement("div",{className:"_2oqk _2pip"},h._("M\u00e1s videos que te pueden gustar")),a.slice(0,d).map(function(a){return this.$6(a,c)}.bind(this))):null)};a.prototype.$4=function(){return b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement("div",{className:"_2gqa"},b("React").createElement(b("Image.react"),{onClick:this.props.onReplay,src:"/images/video/channel_view/replay.svg"})))};a.prototype.$3=function(){__p&&__p();var a=this.$1&&b("ReactDOM").findDOMNode(this.$1);if(!a||!a instanceof Element)return;var c=this.props.videosData.length;if(c===0)return;var d=a.clientWidth;a=a.clientHeight;c=this.$7(c,d,a);var e=c.colCount;c=c.rowCount;d=this.$8(e,c,d,a);this.setState({colCount:e,rowCount:c,itemWidth:d})};a.prototype.$7=function(a,c,d){if(b("gkx")("678921")){var e=this.$9(c,[{minLength:m,count:4},{minLength:k,count:3},{minLength:0,count:2}]),f=this.$9(d,[{minLength:n,count:4},{minLength:l,count:3},{minLength:j,count:2},{minLength:0,count:1}]);f=Math.min(f,e);while(e*f>a)e<=f?f--:e--;return{colCount:e,rowCount:f}}return c>=k&&d>=l&&a>=9?{colCount:3,rowCount:3}:a>=4?{colCount:2,rowCount:2}:{colCount:1,rowCount:1}};a.prototype.$9=function(a,b){return b.reduce(function(b,c){return b===0&&a>=c.minLength?c.count:b},0)};a.prototype.$8=function(a,b,c,d){if(a===1)return c*o;var e=c-q;d=d-r;e=Math.min(e/a,d/b*p);d=c-e*a;this.setState({rootHorizPadding:d});e-=s;return isNaN(e)?0:e};a.prototype.$6=function(a,c){var d=a.id,e=a.permalink,f=a.thumbURI;return!d||!e||!f?null:b("React").createElement(b("TahoeGridViewEndScreenItem.react"),babelHelpers["extends"]({},a,{key:d,imageWidth:this.state.itemWidth,style:c,logEvent:this.props.logEvent}))};a.prototype.$5=function(){var a=this.state,b=a.colCount;a=a.rowCount;b=b!==0?(100/b).toString()+"%":"0";a=a!==0?(100/a).toString()+"%":"0";return{width:b,maxHeight:a}};e.exports=a}),null);
__d("TahoeLivingRoomPill.react",["ix","cx","fbt","Image.react","React","Text.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4s4e _6jsd"},b("React").createElement(b("Image.react"),{className:"_4s4f",src:g("487848")}),b("React").createElement(b("Text.react"),{className:"_4s4g"},i._("Video en grupo")))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("TahoeUpNextOverlay.react",["cx","fbt","ix","Badge.react","CenteredContainer.react","CssBackgroundImage.react","Image.react","Layout.react","LineClamp.react","Link.react","React","Tahoe","TahoeEndScreenProgressCircle.react","TahoeLivingRoomPill.react","TahoeLoggerEvent","URI","VideoDuration.react","VideoPlayerReason","XUIGrayText.react","XUIText.react","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=145,n=257,o=52;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={shown:!0},b}a.prototype.render=function(){var a=this.props,c=a.ownerName,d=a.thumbURI,e=a.title,f=a.viewCount,g=a.duration,j=a.isLive,p=a.isSpherical,q=a.isLivingRoom;a=a.queueCount;var r=this.props.shouldAutoChain&&this.state.shown;return b("React").createElement(b("Layout.react"),{className:"_64gd"+(r?"":" _1yks")},b("React").createElement(k,{className:q?"_6ju4":""},b("React").createElement(b("Link.react"),{onClick:function(){return this.$1(!1)}.bind(this)},b("React").createElement(b("CssBackgroundImage.react"),{height:m,width:n,imageURI:d,backgroundPosition:"50% 50%",className:"_6rcn"}),q?b("React").createElement(b("TahoeLivingRoomPill.react"),null):null,b("React").createElement(b("CenteredContainer.react"),{className:"_4m5g",horizontal:!0,vertical:!0,fullHeight:!0},b("React").createElement("div",{className:"_4m83"},b("React").createElement(b("TahoeEndScreenProgressCircle.react"),{makeProgress:r&&this.props.makeProgress,circleDiameter:o,onProgressDone:function(){return this.$1(!0)}.bind(this),timeoutSec:this.props.countdownTimeoutSec},b("React").createElement(b("Image.react"),{className:"_4m8c",src:i("101657")})),b("React").createElement("div",{className:"_4m8d"},h._("A CONTINUACI\u00d3N")))),g?b("React").createElement("div",{className:"_4m8e"},b("React").createElement(b("VideoDuration.react"),{isLive:j,isSpherical:p,duration:g})):null)),b("React").createElement(l,{className:"_64ge"},b("React").createElement("div",{className:"_64gf"},e?b("React").createElement("div",{className:"_64gj"},b("React").createElement(b("Link.react"),{onClick:function(){return this.$1(!1)}.bind(this)},b("React").createElement(b("LineClamp.react"),{lines:3,fitHeightToShorterText:!0,enableTooltipOnOverflow:!0},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},e)))):null,c?b("React").createElement("div",{className:"_2pim"},b("React").createElement(b("LineClamp.react"),{lines:1,enableTooltipOnOverflow:!0},b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},c),this.$2())):null,q&&a?b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("{queue_count} videos",[h._param("queue_count",a)])):null,f>0?q?this.$3(f):b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._({"*":"{number} reproducciones","_1":"1 reproducci\u00f3n"},[h._plural(f,"number",b("intlSummarizeNumber")(f))])):null),b("React").createElement("div",{className:"_64gk"},b("React").createElement(b("Link.react"),{onClick:function(){return this.$4()}.bind(this)},b("React").createElement(b("Image.react"),{className:"_64gl",src:i("368787")}),b("React").createElement(b("XUIText.react"),{className:"_64gl _2pir",size:"header3"},h._("Cancelar"))))))};a.prototype.$3=function(a){a=a>1?b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("{view counter} espectadores",[h._param("view counter",b("intlSummarizeNumber")(a))])):null;return a};a.prototype.$4=function(){this.$5(),this.props.onDismiss(),this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_CANCEL)};a.prototype.$1=function(a){this.$5();if(a&&!this.props.shouldAutoChain)return;var c=b("Tahoe").get();c&&c.setPlayReason(a?b("VideoPlayerReason").AUTOPLAY:b("VideoPlayerReason").USER);c=this.props.permalink;c&&b("URI").go(c);a?this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_REDIRECT_ON_COUNTDOWN_FINISHED):this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_REDIRECT_ON_CLICK)};a.prototype.$5=function(){this.setState({shown:!1})};a.prototype.$2=function(){var a=this.props,c=a.isOwnerBlueVerified;a=a.isOwnerGrayVerified;return!c&&!a?null:b("React").createElement("span",{className:"_3h80"},c?b("React").createElement(b("Badge.react"),{size:"small",type:"verified"}):b("React").createElement(b("Badge.react"),{size:"small",type:"page_gray_check"}))};e.exports=a}),null);
__d("XTahoeLivingRoomDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/living_room_data/",{living_room_id:{type:"FBID",required:!0}})}),null);
__d("TahoeUpNextOverlayAndEndScreen.react",["cx","Arbiter","AsyncRequest","React","SubscriptionsHandler","TahoeGridViewEndScreen.react","TahoeLoggerEvent","TahoeUpNextOverlay.react","VideoPlayerReason","VideoPlayerStates","XTahoeLivingRoomDataAsyncController","XTahoeVideoDataAsyncController","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={videosData:[],makeProgress:!0,isUpNextOverlayDismissed:!1,isVideoFinished:this.props.vpc.getState()===b("VideoPlayerStates").FINISHED,isInTahoe:this.props.vpc.getSource()==="tahoe",isCommentBoxFocused:!1},c}a.prototype.componentDidMount=function(){this.props.livingRoomID!==null&&(!b("gkx")("731857")||this.props.livingRoomID!==void 0)?this.$2():this.props.videoIDs.length>0&&this.$3(),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return this.$4()}.bind(this))),this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/exitTahoe",function(){this.setState({isInTahoe:!1})}.bind(this))),this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/enterTahoe",function(){this.setState({isInTahoe:!0})}.bind(this))),this.$1.addSubscriptions(b("Arbiter").subscribeOnce(["UFIAddComment/focus","comment_content_change"],function(){b("gkx")("678923")&&(this.setState({isCommentBoxFocused:!0}),this.props.logEvent(b("TahoeLoggerEvent").AUTOCHAIN_CANCELLED))}.bind(this))),this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_SHOWN)};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.shouldComponentUpdate=function(a,b){return!(b.videosData.length===0)};a.prototype.render=function(){if(this.state.isCommentBoxFocused||!this.props.shouldShowUpNextOverlay||!this.props.countdownTimeoutSec)return this.state.isVideoFinished&&this.state.isInTahoe?this.$5():null;var a=null;this.state.isVideoFinished&&(this.state.isUpNextOverlayDismissed||this.props.videoIDs.length===0?a=this.$5():this.props.hasCustomBackgroundForUpNextOverlay||(a=this.$6()));return b("React").createElement("div",{className:"_1a5j _3htz _4ubd"+(this.state.isInTahoe?"":" hidden_elem")},a,this.$7())};a.prototype.$2=function(){new(b("AsyncRequest"))(b("XTahoeLivingRoomDataAsyncController").getURIBuilder().setFBID("living_room_id",this.props.livingRoomID).getURI()).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;a&&a.length>0?this.setState({videosData:a}):this.$3()}.bind(this)).send()};a.prototype.$3=function(){new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",this.props.videoIDs).getURI()).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;a&&a.length>0&&this.setState({videosData:a})}.bind(this)).send()};a.prototype.$7=function(){if(this.state.videosData.length===0)return null;var a=this.state.videosData[0],c=this.props.countdownTimeoutSec;if(!a||!c)return null;a.isLivingRoom=a.queueCount!=null;return b("React").createElement(b("TahoeUpNextOverlay.react"),babelHelpers["extends"]({},a,{countdownTimeoutSec:c,shouldAutoChain:!this.state.isCommentBoxFocused,makeProgress:this.state.isInTahoe&&this.state.makeProgress,onDismiss:function(){this.setState({isUpNextOverlayDismissed:!0})}.bind(this),logEvent:this.props.logEvent}))};a.prototype.$4=function(){__p&&__p();var a=this.props.vpc;a=a.getState();switch(a){case b("VideoPlayerStates").PAUSED:this.setState({makeProgress:!1});break;case b("VideoPlayerStates").PLAYING:!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break;case b("VideoPlayerStates").FINISHED:this.setState({isVideoFinished:!0});!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break}};a.prototype.$5=function(){return b("React").createElement("div",{className:"_3rl2 _2se8"},b("React").createElement(b("TahoeGridViewEndScreen.react"),{videosData:this.state.videosData,onReplay:this.props.isCurrentVideoReplayable?function(){this.props.vpc.play(b("VideoPlayerReason").USER)}.bind(this):null,logEvent:this.props.logEvent}),",")};a.prototype.$6=function(){return b("React").createElement("div",{className:"_3rl2 _zkf"})};e.exports=a}),null);