if (self.CavalryLogger) { CavalryLogger.start_js(["xoH5E"]); }

/**
 * License: https://www.facebook.com/legal/license/YwRHAVtN79l/
 */
__d("ShowreelThirdPartyGifuct",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){this.data=a,this.pos=0}g.prototype.readByte=function(){return this.data[this.pos++]};g.prototype.peekByte=function(){return this.data[this.pos]};g.prototype.readBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.readByte();return b};g.prototype.peekBytes=function(a){var b=new Array(a);for(var c=0;c<a;c++)b[c]=this.data[this.pos+c];return b};g.prototype.readString=function(a){var b="";for(var c=0;c<a;c++)b+=String.fromCharCode(this.readByte());return b};g.prototype.readBitArray=function(){var a=[],b=this.readByte();for(var c=7;c>=0;c--)a.push(!!(b&1<<c));return a};g.prototype.readUnsigned=function(a){var b=this.readBytes(2);if(a)return(b[1]<<8)+b[0];else return(b[0]<<8)+b[1]};function h(a){this.stream=new g(a),this.output={}}h.prototype.parse=function(a){this.parseParts(this.output,a);return this.output};h.prototype.parseParts=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];this.parsePart(a,d)}};h.prototype.parsePart=function(a,b){__p&&__p();var c=b.label;if(b.requires&&!b.requires(this.stream,this.output,a))return;if(b.loop){var d=[];while(b.loop(this.stream)){var e={};this.parseParts(e,b.parts);d.push(e)}a[c]=d}else b.parts?(e={},this.parseParts(e,b.parts),a[c]=e):b.parser?(e=b.parser(this.stream,this.output,a),b.skip||(a[c]=e)):b.bits&&(a[c]=this.parseBits(b.bits))};function i(a){return a.reduce(function(a,b){return a*2+b},0)}h.prototype.parseBits=function(a){var b={},c=this.stream.readBitArray();for(var d in a){var e=a[d];e.length?b[d]=i(c.slice(e.index,e.index+e.length)):b[d]=c[e.index]}return b};b={readByte:function(){return function(a){return a.readByte()}},readBytes:function(a){return function(b){return b.readBytes(a)}},readString:function(a){return function(b){return b.readString(a)}},readUnsigned:function(a){return function(b){return b.readUnsigned(a)}},readArray:function(a,b){return function(c,d,e){d=b(c,d,e);e=new Array(d);for(var f=0;f<d;f++)e[f]=c.readBytes(a);return e}}};c={label:"blocks",parser:function(a){var b=[],c=0;for(var d=a.readByte();d!==c;d=a.readByte())b=b.concat(a.readBytes(d));return b}};d={label:"gce",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===249},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"byteSize",parser:b.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:b.readUnsigned(!0)},{label:"transparentColorIndex",parser:b.readByte()},{label:"terminator",parser:b.readByte(),skip:!0}]};f={label:"image",requires:function(a){a=a.peekByte();return a===44},parts:[{label:"code",parser:b.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:b.readUnsigned(!0)},{label:"top",parser:b.readUnsigned(!0)},{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(a,b,c){return c.descriptor.lct.exists},parser:b.readArray(3,function(a,b,c){return Math.pow(2,c.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:b.readByte()},c]}]};var j={label:"text",requires:function(a){a=a.peekBytes(2);return a[0]===33&&a[1]===1},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"preData",parser:function(a,b,c){return a.readBytes(c.text.blockSize)}},c]},k={label:"application",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===255},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},{label:"blockSize",parser:b.readByte()},{label:"id",parser:function(a,b,c){return a.readString(c.blockSize)}},c]};c={label:"comment",requires:function(a,b,c){b=a.peekBytes(2);return b[0]===33&&b[1]===254},parts:[{label:"codes",parser:b.readBytes(2),skip:!0},c]};d={label:"frames",parts:[d,k,c,f,j],loop:function(a){a=a.peekByte();return a===33||a===44}};var l=[{label:"header",parts:[{label:"signature",parser:b.readString(3)},{label:"version",parser:b.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:b.readUnsigned(!0)},{label:"height",parser:b.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:b.readByte()},{label:"pixelAspectRatio",parser:b.readByte()}]},{label:"gct",requires:function(a,b){return b.lsd.gct.exists},parser:b.readArray(3,function(a,b){return Math.pow(2,b.lsd.gct.size+1)})},d];function a(a){a=new Uint8Array(a);a=new h(a);this.raw=a.parse(l);this.raw.hasImages=!1;for(var a=0;a<this.raw.frames.length;a++)if(this.raw.frames[a].image){this.raw.hasImages=!0;break}}a.prototype.decompressFrame=function(a,b){__p&&__p();if(a>=this.raw.frames.length)return null;a=this.raw.frames[a];if(a.image){var c=a.image.descriptor.width*a.image.descriptor.height;d=d(a.image.data.minCodeSize,a.image.data.blocks,c);a.image.descriptor.lct.interlaced&&(d=e(d,a.image.descriptor.width));c={pixels:d,dims:{top:a.image.descriptor.top,left:a.image.descriptor.left,width:a.image.descriptor.width,height:a.image.descriptor.height}};a.image.descriptor.lct&&a.image.descriptor.lct.exists?c.colorTable=a.image.lct:c.colorTable=this.raw.gct;a.gce&&(c.delay=(a.gce.delay||10)*10,c.disposalType=a.gce.extras.disposal,a.gce.extras.transparentColorGiven&&(c.transparentIndex=a.gce.transparentColorIndex));b&&(c.patch=f(c));return c}return null;function d(a,b,c){__p&&__p();var d=4096,e=-1,f=c,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;c=new Array(c);var v=new Array(d),w=new Array(d),x=new Array(d+1);a=a;h=1<<a;k=h+1;g=h+2;m=e;j=a+1;i=(1<<j)-1;for(o=0;o<h;o++)v[o]=0,w[o]=o;q=n=count=r=s=u=t=0;for(p=0;p<f;){if(s===0){if(n<j){q+=b[t]<<n;n+=8;t++;continue}o=q&i;q>>=j;n-=j;if(o>g||o==k)break;if(o==h){j=a+1;i=(1<<j)-1;g=h+2;m=e;continue}if(m==e){x[s++]=w[o];m=o;r=o;continue}l=o;o==g&&(x[s++]=r,o=m);while(o>h)x[s++]=w[o],o=v[o];r=w[o]&255;x[s++]=r;g<d&&(v[g]=m,w[g]=r,g++,(g&i)===0&&g<d&&(j++,i+=g));m=l}s--;c[u++]=x[s];p++}for(p=u;p<f;p++)c[p]=0;return c}function e(a,b){var c=new Array(a.length),d=a.length/b,e=function(e,d){d=a.slice(d*b,(d+1)*b);c.splice.apply(c,[e*b,b].concat(d))},f=[0,4,2,1],g=[8,8,4,2],h=0;for(var i=0;i<4;i++)for(var j=f[i];j<d;j+=g[i])e(j,h),h++;return c}function f(b){var a=b.pixels.length,c=new Uint8ClampedArray(a*4);for(var d=0;d<a;d++){var e=d*4,f=b.pixels[d],g=b.colorTable[f];c[e]=g[0];c[e+1]=g[1];c[e+2]=g[2];c[e+3]=f!==b.transparentIndex?255:0}return c}};a.prototype.decompressFrames=function(a){var b=[];for(var c=0;c<this.raw.frames.length;c++){var d=this.raw.frames[c];d.image&&b.push(this.decompressFrame(c,a))}return b};e.exports=a}),null);